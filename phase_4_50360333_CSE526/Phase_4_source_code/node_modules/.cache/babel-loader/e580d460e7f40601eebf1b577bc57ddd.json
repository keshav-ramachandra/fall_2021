{"ast":null,"code":"var _jsxFileName = \"/home/kesha/Videos/Summer2021-main/REN_UI/src/features/OrgUpdater/Org.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Box, Container, Row, Col } from 'react-bootstrap';\nimport web3 from './../web3';\nimport Select from 'react-select';\nimport { store } from '../../app/store';\n/*\ngetOrganizationNormalTime,\n  getOrganizationPremiumTime,\n  getOrganizationNormalFee,\n  getOrganizationPremiumFee,\n  getPremiumUserEndSubscriptionTime,\n  getUserEndSubscriptionTime\n  doesUserHasPremiumAccess,\n  doesUserHasNormalAcces\n  getTokenBalance,\n  buyNormalSubscription,\n  buyPremiumSubscription,\n  setOrChangeSubscriptionFee,\n  setOrChangePremiumSubscriptionFee,\n  \n\n*/\n\nimport { getCurrentOrg, registerAsOrganization, getTokenBalance, purchaseTokens, updateStats } from './OrgSlice';\nimport styles from './Org.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function Org() {\n  _s();\n\n  //const fetchStatus = useSelector(state => state.node.status)\n  //const error = useSelector(state => state.node.error)\n  const dispatch = useDispatch(); //const user = useSelector(state => state.node.user);\n\n  const currentOrg = useSelector(state => state.org.currentOrg); //const owner = useSelector(state => state.org.orgOwner);\n\n  const [oowner, setOowner] = useState(localStorage.getItem('owner'));\n  const isOwner = useSelector(state => state.org.isOwner); //const balance = useSelector(state => state.node.balance);\n  //const [currentOrg, setCurrentOrg ] = useState('');\n  //const [owner, setOwner ] = useState('');\n\n  const userTokenBalance = useSelector(state => state.org.userTokenBalance);\n  const orgCreated = useSelector(state => state.org.orgCreated);\n  const orgName = useSelector(state => state.org.orgName);\n  const normalSubFee = useSelector(state => state.org.normalSubFee);\n  const premiumSubFee = useSelector(state => state.org.premiumSubFee);\n  const normalSubTime = useSelector(state => state.org.normalSubTime);\n  const premiumSubTime = useSelector(state => state.org.premiumSubTime);\n  const doesUserHasNormalAccess = useSelector(state => state.org.doesUserHasNormalAccess);\n  const doesUserHasPremiumAccess = useSelector(state => state.org.doesUserHasPremiumAccess);\n  const [userBalance, setUserBalance] = useState('');\n  /*\n    const [normalSubFee, setNormalSubFee ] = useState(0);\n    const [premiumSubFee, setPremiumSubFee ] = useState(0);\n  \n    const [normalSubTime, setNormalSubTime ] = useState(0);\n    const [premiumSubTime, setPremiumSubTime ] = useState(0);\n  \n  */\n\n  const [normalEndTime, setNormalEndTime] = useState(0);\n  const [premiumEndTime, setPremiumEndTime] = useState(0); //const [ doesUserHasNormalAccess, setDoesUserHasNormalAccess ] = useState(false);\n  //const [ doesUserHasPremiumAccess, setDoesUserHasPremiumAccess ] = useState(false);\n\n  const options = useSelector(state => state.org.options); //dispatch(getUserAsync());\n  //const status = useSelector(state => state.node.status) \n  //const depositStatus = useSelector(state => state.node.depositStatus) \n  //const nodeBalance = useSelector(state => state.org.balance)\n  //const owner = useSelector(state => state.org.owner)\n  //const share = useSelector(state => state.org.share)\n\n  const [selectedOption, setSelectedOption] = useState(null);\n  /*\n  const handleChange = (selectedOption) => {\n    setSelectedOption(selectedOption);\n    console.log(selectedOption.value);\n    dispatch(updateOrgStats({_orgId:parseInt(selectedOption.value)}))\n     //this prints the selected option\n  }\n  */\n\n  useEffect(() => {\n    dispatch(getCurrentOrg());\n    dispatch(getTokenBalance()); //dispatch(updateNodeStats({_nodeId:-1}))\n    //dispatch(loadSelectElements())\n\n    async function listenMMAccount() {\n      window.ethereum.on(\"accountsChanged\", async function () {\n        // Time to reload your interface with accounts[0]!\n        const accounts = await web3.eth.getAccounts();\n        dispatch(getCurrentOrg());\n        console.log(\"oooowner is \", localStorage.getItem(\"owner\"));\n        dispatch(updateStats({\n          owner: localStorage.getItem(\"owner\")\n        }));\n      });\n    }\n\n    listenMMAccount();\n  }, []);\n  const [forgName, setfOrgName] = useState('');\n  const [fpremiumSubFee, setfPremiumSubFee] = useState(300);\n  const [fnormalSubFee, setfNormalSubFee] = useState(100);\n  const [purchaseAmount, setPurchaseAmount] = useState(0);\n\n  const handlefNameChange = e => {\n    setfOrgName(e.target.value);\n  };\n\n  const handleNSubFeeChange = e => {\n    setfNormalSubFee(parseInt(e.target.value));\n  };\n\n  const handlePSubFeeChange = e => {\n    setfPremiumSubFee(parseInt(e.target.value));\n  };\n\n  const handlePurchaseAmount = e => {\n    setPurchaseAmount(e.target.value);\n  };\n\n  let bContent;\n\n  if (localStorage.getItem(\"owner\") == currentOrg) {\n    bContent = /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        className: styles.but_ui,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => dispatch(purchaseNormalSubscription({\n            owner: localStorage.getItem(\"owner\")\n          })),\n          children: \"Buy Sub\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 39\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 8\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: styles.but_ui,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => dispatch(purchasePremiumSubscription({\n            owner: localStorage.getItem(\"owner\")\n          })),\n          children: \"Buy Premium Sub\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 39\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 8\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 17\n    }, this);\n  } else {\n    bContent = '';\n  }\n\n  let content;\n\n  if (!orgCreated) {\n    //content = <Row className={styles.but_ui}><button onClick= { () => dispatch(registerAsOrganization({ name:\"udemy\" , normalSubFee: 15 , premiumSubFee : 30, user:user}))}>Create Org</button></Row>\n    //content = <Row className={styles.but_ui}><button onClick= { () => dispatch(registerAsOrganization({ name:\"udemy\" , normalSubFee:15 , premiumSubFee:30, user:currentOrg}))}>Create Org</button></Row>\n    content = /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        style: {\n          display: 'flex',\n          justifyContent: 'center',\n          paddingBottom: 30,\n          paddingLeft: 170\n        },\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          className: styles.attribute,\n          children: \"LRN Balance:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 100\n        }, this), \" \", /*#__PURE__*/_jsxDEV(Col, {\n          className: styles.attr_value,\n          style: {\n            paddingRight: 180\n          },\n          children: userTokenBalance\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 153\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        style: {\n          display: 'flex',\n          justifyContent: 'center'\n        },\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \" 1 LRN Token = 1 wei \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 65\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: styles.but_ui,\n        style: {\n          display: 'flex',\n          paddingBottom: 50\n        },\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: purchaseAmount,\n            onChange: handlePurchaseAmount\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 87\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 82\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => dispatch(purchaseTokens({\n              value: purchaseAmount\n            })),\n            children: \"Purchase Tokens\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 174\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 169\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \" Register an Organization \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        style: {\n          display: 'flex',\n          justifyContent: 'center',\n          padding: 10,\n          paddingLeft: 110\n        },\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Organization Name:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: forgName,\n            onChange: handlefNameChange,\n            style: {\n              marginLeft: 90\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        style: {\n          display: 'flex',\n          justifyContent: 'center',\n          padding: 10,\n          paddingLeft: 90\n        },\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Normal Sub Fee:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: fnormalSubFee,\n            onChange: handleNSubFeeChange,\n            style: {\n              marginLeft: 110\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        style: {\n          display: 'flex',\n          justifyContent: 'center',\n          padding: 10,\n          paddingLeft: 90\n        },\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Premium Sub Fee:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: fpremiumSubFee,\n            onChange: handlePSubFeeChange,\n            style: {\n              marginLeft: 90\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: styles.but_ui,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => dispatch(registerAsOrganization({\n            name: forgName,\n            normalSubFee: fnormalSubFee,\n            premiumSubFee: fpremiumSubFee,\n            user: currentOrg\n          })),\n          children: \"Create Org\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 40\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 9\n    }, this);\n    return content;\n  } else if (orgCreated && !isOwner) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      className: styles.node,\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        style: {\n          display: 'flex',\n          justifyContent: 'center',\n          paddingBottom: 30,\n          paddingLeft: 170\n        },\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          className: styles.attribute,\n          children: \"LRN Balance:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 104\n        }, this), \" \", /*#__PURE__*/_jsxDEV(Col, {\n          className: styles.attr_value,\n          style: {\n            paddingRight: 180\n          },\n          children: userTokenBalance\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 157\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        style: {\n          display: 'flex',\n          justifyContent: 'center'\n        },\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \" 1 LRN Token = 1 wei \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 69\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: styles.but_ui,\n        style: {\n          display: 'flex',\n          paddingBottom: 50\n        },\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: purchaseAmount,\n            onChange: handlePurchaseAmount\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 91\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 86\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => dispatch(purchaseTokens({\n              value: purchaseAmount\n            })),\n            children: \"Purchase Tokens\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 178\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 173\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          className: styles.attribute,\n          children: \"Learn Token Balance:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 16\n        }, this), \" \", /*#__PURE__*/_jsxDEV(Col, {\n          className: styles.attr_value,\n          children: userTokenBalance\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 77\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          className: styles.attribute,\n          children: \"Organization owner:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 16\n        }, this), \" \", /*#__PURE__*/_jsxDEV(Col, {\n          className: styles.attr_small,\n          children: oowner\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 76\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          className: styles.attribute,\n          children: \"User :\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 16\n        }, this), \" \", /*#__PURE__*/_jsxDEV(Col, {\n          className: styles.attr_small,\n          children: currentOrg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 63\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          className: styles.attribute,\n          children: \"Organization Name:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 16\n        }, this), \" \", /*#__PURE__*/_jsxDEV(Col, {\n          className: styles.attr_value,\n          children: forgName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 75\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          className: styles.attribute,\n          children: \"Normal Sub Fee:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 16\n        }, this), \" \", /*#__PURE__*/_jsxDEV(Col, {\n          className: styles.attr_value,\n          children: normalSubFee\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 72\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          className: styles.attribute,\n          children: \"Premium Sub Fee:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 16\n        }, this), \" \", /*#__PURE__*/_jsxDEV(Col, {\n          className: styles.attr_value,\n          children: premiumSubFee\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 73\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          className: styles.attribute,\n          children: \"Normal Time Access per Sub:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 16\n        }, this), \" \", /*#__PURE__*/_jsxDEV(Col, {\n          className: styles.attr_value,\n          children: normalSubTime\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 84\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          className: styles.attribute,\n          children: \"Premium Time Access per Sub:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 16\n        }, this), \" \", /*#__PURE__*/_jsxDEV(Col, {\n          className: styles.attr_value,\n          children: premiumSubTime\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 85\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          className: styles.attribute,\n          children: \"my Normal End Time:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 16\n        }, this), \" \", /*#__PURE__*/_jsxDEV(Col, {\n          className: styles.attr_value,\n          children: [normalEndTime, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 76\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          className: styles.attribute,\n          children: \"my Premium End Time:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 16\n        }, this), \" \", /*#__PURE__*/_jsxDEV(Col, {\n          className: styles.attr_value,\n          children: premiumEndTime\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 77\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          className: styles.attribute,\n          children: \"Premium Access ?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 16\n        }, this), \" \", /*#__PURE__*/_jsxDEV(Col, {\n          className: styles.attr_value,\n          children: doesUserHasPremiumAccess\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 73\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          className: styles.attribute,\n          children: \"Normal Access ?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 16\n        }, this), \" \", /*#__PURE__*/_jsxDEV(Col, {\n          className: styles.attr_value,\n          children: doesUserHasNormalAccess\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 72\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 8\n    }, this);\n  } else if (orgCreated && isOwner) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      className: styles.node,\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        style: {\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center',\n          paddingTop: 400\n        },\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \" Org has been created. Switch account to purchase subscriptions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 104\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 10\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 8\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(Container, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 7\n    }, this);\n  }\n}\n\n_s(Org, \"YVt3erEpoR0qcDOrXW2MgYevQpw=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector];\n});\n\n_c = Org;\n\nvar _c;\n\n$RefreshReg$(_c, \"Org\");","map":{"version":3,"sources":["/home/kesha/Videos/Summer2021-main/REN_UI/src/features/OrgUpdater/Org.js"],"names":["React","useState","useEffect","useSelector","useDispatch","Box","Container","Row","Col","web3","Select","store","getCurrentOrg","registerAsOrganization","getTokenBalance","purchaseTokens","updateStats","styles","Org","dispatch","currentOrg","state","org","oowner","setOowner","localStorage","getItem","isOwner","userTokenBalance","orgCreated","orgName","normalSubFee","premiumSubFee","normalSubTime","premiumSubTime","doesUserHasNormalAccess","doesUserHasPremiumAccess","userBalance","setUserBalance","normalEndTime","setNormalEndTime","premiumEndTime","setPremiumEndTime","options","selectedOption","setSelectedOption","listenMMAccount","window","ethereum","on","accounts","eth","getAccounts","console","log","owner","forgName","setfOrgName","fpremiumSubFee","setfPremiumSubFee","fnormalSubFee","setfNormalSubFee","purchaseAmount","setPurchaseAmount","handlefNameChange","e","target","value","handleNSubFeeChange","parseInt","handlePSubFeeChange","handlePurchaseAmount","bContent","but_ui","purchaseNormalSubscription","purchasePremiumSubscription","content","display","justifyContent","paddingBottom","paddingLeft","attribute","attr_value","paddingRight","padding","marginLeft","name","user","node","attr_small","alignItems","paddingTop"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Box, Container, Row, Col } from 'react-bootstrap';\nimport web3 from './../web3'\n\nimport Select from 'react-select';\nimport {store} from '../../app/store'\n\n/*\ngetOrganizationNormalTime,\n  getOrganizationPremiumTime,\n  getOrganizationNormalFee,\n  getOrganizationPremiumFee,\n  getPremiumUserEndSubscriptionTime,\n  getUserEndSubscriptionTime\n  doesUserHasPremiumAccess,\n  doesUserHasNormalAcces\n  getTokenBalance,\n  buyNormalSubscription,\n  buyPremiumSubscription,\n  setOrChangeSubscriptionFee,\n  setOrChangePremiumSubscriptionFee,\n  \n\n*/\n\nimport {\n  getCurrentOrg,\n  registerAsOrganization,\n  getTokenBalance,\n  purchaseTokens,\n  updateStats\n} from './OrgSlice';\nimport styles from './Org.module.css';\n\nexport function Org() {\n  //const fetchStatus = useSelector(state => state.node.status)\n  //const error = useSelector(state => state.node.error)\n  \n\n\n\n\n  const dispatch = useDispatch();\n  //const user = useSelector(state => state.node.user);\n  const currentOrg = useSelector(state => state.org.currentOrg);\n  //const owner = useSelector(state => state.org.orgOwner);\n  const [oowner, setOowner] = useState(localStorage.getItem('owner'));\n  const isOwner = useSelector(state => state.org.isOwner);\n  //const balance = useSelector(state => state.node.balance);\n\n  //const [currentOrg, setCurrentOrg ] = useState('');\n\n  //const [owner, setOwner ] = useState('');\n\n  const userTokenBalance = useSelector(state => state.org.userTokenBalance); \n\n  const orgCreated = useSelector(state => state.org.orgCreated);\n  \n  const orgName = useSelector(state => state.org.orgName);\n\n  const normalSubFee = useSelector(state => state.org.normalSubFee)\n\n  const premiumSubFee = useSelector(state => state.org.premiumSubFee)\n\n  const normalSubTime = useSelector(state => state.org.normalSubTime)\n\n  const premiumSubTime = useSelector(state => state.org.premiumSubTime)\n\n  const doesUserHasNormalAccess = useSelector(state => state.org.doesUserHasNormalAccess)\n\n  const doesUserHasPremiumAccess = useSelector(state => state.org.doesUserHasPremiumAccess)\n\n  const [userBalance, setUserBalance ] = useState('');\n/*\n  const [normalSubFee, setNormalSubFee ] = useState(0);\n  const [premiumSubFee, setPremiumSubFee ] = useState(0);\n\n  const [normalSubTime, setNormalSubTime ] = useState(0);\n  const [premiumSubTime, setPremiumSubTime ] = useState(0);\n\n*/\n  const [ normalEndTime, setNormalEndTime ] = useState(0);\n  const [ premiumEndTime, setPremiumEndTime ] = useState(0);\n\n  //const [ doesUserHasNormalAccess, setDoesUserHasNormalAccess ] = useState(false);\n  //const [ doesUserHasPremiumAccess, setDoesUserHasPremiumAccess ] = useState(false);\n\n\n\n  const options = useSelector(state => state.org.options);\n  //dispatch(getUserAsync());\n  //const status = useSelector(state => state.node.status) \n  //const depositStatus = useSelector(state => state.node.depositStatus) \n  //const nodeBalance = useSelector(state => state.org.balance)\n  //const owner = useSelector(state => state.org.owner)\n  //const share = useSelector(state => state.org.share)\n\n  const [selectedOption, setSelectedOption] = useState(null);\n  /*\n  const handleChange = (selectedOption) => {\n    setSelectedOption(selectedOption);\n    console.log(selectedOption.value);\n    dispatch(updateOrgStats({_orgId:parseInt(selectedOption.value)}))\n     //this prints the selected option\n  }\n  */\n\n   useEffect(() => {\n\n      dispatch(getCurrentOrg())\n      dispatch(getTokenBalance())\n      //dispatch(updateNodeStats({_nodeId:-1}))\n      //dispatch(loadSelectElements())\n\n\n\n      async function listenMMAccount() {\n        window.ethereum.on(\"accountsChanged\", async function() {\n          // Time to reload your interface with accounts[0]!\n         const  accounts = await web3.eth.getAccounts();\n          dispatch(getCurrentOrg())\n          console.log(\"oooowner is \", localStorage.getItem(\"owner\"));\n          dispatch(updateStats({owner: localStorage.getItem(\"owner\")}))\n        });\n      }\n    listenMMAccount();\n  \n  }, [])\n\n\n\n  const [forgName, setfOrgName] = useState('')\n  const [fpremiumSubFee, setfPremiumSubFee] = useState(300)\n  const [fnormalSubFee, setfNormalSubFee] = useState(100)\n  const [purchaseAmount, setPurchaseAmount] = useState(0)\n  const handlefNameChange = (e) => {\n    setfOrgName(e.target.value);\n  }\n\n  const handleNSubFeeChange = (e) => {\n    setfNormalSubFee(parseInt(e.target.value))\n  }\n\n  const handlePSubFeeChange = (e) => {\n    setfPremiumSubFee(parseInt(e.target.value))\n  }\n\n  const handlePurchaseAmount = (e) => {\n    setPurchaseAmount(e.target.value)\n  }\n\n\n\n  let bContent \n\n\n  if(localStorage.getItem(\"owner\") == currentOrg){\n     bContent = <Container>\n       <Row className={styles.but_ui}><button onClick= { () => dispatch(purchaseNormalSubscription({ owner: localStorage.getItem(\"owner\") }))}>Buy Sub</button></Row>\n       <Row className={styles.but_ui}><button onClick= { () => dispatch(purchasePremiumSubscription({ owner: localStorage.getItem(\"owner\") }))}>Buy Premium Sub</button></Row>\n     </Container>\n\n  }\n  else{\n    bContent=''\n  }\n\n\n  let content \n\n\n\n  if(!orgCreated){\n    //content = <Row className={styles.but_ui}><button onClick= { () => dispatch(registerAsOrganization({ name:\"udemy\" , normalSubFee: 15 , premiumSubFee : 30, user:user}))}>Create Org</button></Row>\n    //content = <Row className={styles.but_ui}><button onClick= { () => dispatch(registerAsOrganization({ name:\"udemy\" , normalSubFee:15 , premiumSubFee:30, user:currentOrg}))}>Create Org</button></Row>\n    content = \n        <Container >\n        <br />\n        <br />\n        <br />\n        <br />\n\n      <Row style={{display: 'flex',  justifyContent:'center', paddingBottom: 30, paddingLeft:170}}><Col className={styles.attribute}>LRN Balance:</Col> <Col className={styles.attr_value} style={{ paddingRight:180 }}>{userTokenBalance}</Col></Row>\n      \n\n      <Row style={{display: 'flex',  justifyContent:'center'}}> <p> 1 LRN Token = 1 wei </p></Row>\n      <Row className={styles.but_ui} style={{display: 'flex', paddingBottom:50}}><Col><input type=\"text\" value={purchaseAmount} onChange={ handlePurchaseAmount}/></Col><Col><button onClick= { () => dispatch( purchaseTokens({value: purchaseAmount}) ) }>Purchase Tokens</button></Col></Row>\n\n\n        <h4> Register an Organization </h4>\n        \n        <Row style={{display: 'flex',  justifyContent:'center', padding: 10, paddingLeft:110}}>\n        <label>\n          Organization Name:\n          <input type=\"text\" value={forgName} onChange={ handlefNameChange} style={{ marginLeft:90}}/>\n        </label>\n        </Row>\n        <Row style={{display: 'flex',  justifyContent:'center', padding: 10, paddingLeft:90}}> \n        <label>\n          Normal Sub Fee:\n          <input type=\"text\" value={fnormalSubFee} onChange={ handleNSubFeeChange} style={{ marginLeft:110}} />\n        </label>\n        </Row>\n        <Row style={{display: 'flex',  justifyContent:'center', padding: 10, paddingLeft:90}}>\n        <label>\n          Premium Sub Fee:\n          <input type=\"text\" value={fpremiumSubFee} onChange={ handlePSubFeeChange} style={{ marginLeft:90}}/>\n        </label>\n        </Row>\n        <Row className={styles.but_ui}><button onClick= { () => dispatch(registerAsOrganization({ name: forgName , normalSubFee: fnormalSubFee , premiumSubFee: fpremiumSubFee, user:currentOrg}))}>Create Org</button></Row>\n        \n    </Container>\n\n    return(\n     content\n    )\n\n  }\n\n\n\n\n  else if (orgCreated && !isOwner){\n\n    return (\n       <Container className={styles.node}>\n\n          \n\n          <Row style={{display: 'flex',  justifyContent:'center', paddingBottom: 30, paddingLeft:170}}><Col className={styles.attribute}>LRN Balance:</Col> <Col className={styles.attr_value} style={{ paddingRight:180 }}>{userTokenBalance}</Col></Row>\n      \n          \n          <Row style={{display: 'flex',  justifyContent:'center'}}> <p> 1 LRN Token = 1 wei </p></Row>\n          <Row className={styles.but_ui} style={{display: 'flex', paddingBottom:50}}><Col><input type=\"text\" value={purchaseAmount} onChange={ handlePurchaseAmount}/></Col><Col><button onClick= { () => dispatch( purchaseTokens({value: purchaseAmount}) ) }>Purchase Tokens</button></Col></Row>\n\n\n          <Row><Col className={styles.attribute}>Learn Token Balance:</Col> <Col className={styles.attr_value}>{userTokenBalance}</Col></Row>\n          <Row><Col className={styles.attribute}>Organization owner:</Col> <Col className={styles.attr_small}>{oowner}</Col></Row>\n          <Row><Col className={styles.attribute}>User :</Col> <Col className={styles.attr_small}>{currentOrg}</Col></Row>\n          <Row><Col className={styles.attribute}>Organization Name:</Col> <Col className={styles.attr_value}>{forgName}</Col></Row>\n          <Row><Col className={styles.attribute}>Normal Sub Fee:</Col> <Col className={styles.attr_value}>{normalSubFee}</Col></Row>\n          <Row><Col className={styles.attribute}>Premium Sub Fee:</Col> <Col className={styles.attr_value}>{premiumSubFee}</Col></Row>\n          <Row><Col className={styles.attribute}>Normal Time Access per Sub:</Col> <Col className={styles.attr_value}>{normalSubTime}</Col></Row>\n          <Row><Col className={styles.attribute}>Premium Time Access per Sub:</Col> <Col className={styles.attr_value}>{premiumSubTime}</Col></Row>\n\n          <Row><Col className={styles.attribute}>my Normal End Time:</Col> <Col className={styles.attr_value}>{normalEndTime} </Col></Row>\n          <Row><Col className={styles.attribute}>my Premium End Time:</Col> <Col className={styles.attr_value}>{premiumEndTime}</Col></Row>\n          <Row><Col className={styles.attribute}>Premium Access ?</Col> <Col className={styles.attr_value}>{doesUserHasPremiumAccess}</Col></Row>\n          <Row><Col className={styles.attribute}>Normal Access ?</Col> <Col className={styles.attr_value}>{doesUserHasNormalAccess}</Col></Row>\n          \n      </Container>\n\n    )\n  }\n\n\n  else if(orgCreated && isOwner){\n     return(\n       <Container className={styles.node}>\n         <Row style={{display: 'flex',  justifyContent:'center',alignItems: 'center', paddingTop:400}}><p> Org has been created. Switch account to purchase subscriptions</p></Row>\n       </Container>\n     )\n  }\n\n  else{\n\n    return(\n      <Container>\n      </Container>\n    )\n  }\n  \n\n\n}\n"]},"metadata":{},"sourceType":"module"}