{"ast":null,"code":"var _jsxFileName = \"/home/kesha/Videos/Summer2021-main/REN_UI/src/features/OrgUpdater/Org.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Box, Container, Row, Col } from 'react-bootstrap';\nimport web3 from './../web3';\nimport Select from 'react-select';\nimport { store } from '../../app/store';\n/*\ngetOrganizationNormalTime,\n  getOrganizationPremiumTime,\n  getOrganizationNormalFee,\n  getOrganizationPremiumFee,\n  getPremiumUserEndSubscriptionTime,\n  getUserEndSubscriptionTime\n  doesUserHasPremiumAccess,\n  doesUserHasNormalAcces\n  getTokenBalance,\n  buyNormalSubscription,\n  buyPremiumSubscription,\n  setOrChangeSubscriptionFee,\n  setOrChangePremiumSubscriptionFee,\n  \n\n*/\n\nimport { getCurrentOrg, registerAsOrganization, getTokenBalance, purchaseTokens, updateStats } from './OrgSlice';\nimport styles from './Org.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function Org() {\n  _s();\n\n  //const fetchStatus = useSelector(state => state.node.status)\n  //const error = useSelector(state => state.node.error)\n  const dispatch = useDispatch(); //const user = useSelector(state => state.node.user);\n\n  const currentOrg = useSelector(state => state.org.currentOrg);\n  const owner = useSelector(state => state.org.orgOwner);\n  const isOwner = useSelector(state => state.org.isOwner); //const balance = useSelector(state => state.node.balance);\n  //const [currentOrg, setCurrentOrg ] = useState('');\n  //const [owner, setOwner ] = useState('');\n\n  const userTokenBalance = useSelector(state => state.org.userTokenBalance);\n  const orgCreated = useSelector(state => state.org.orgCreated);\n  const orgName = useSelector(state => state.org.orgName);\n  const normalSubFee = useSelector(state => state.org.normalSubFee);\n  const premiumSubFee = useSelector(state => state.org.premiumSubFee);\n  const normalSubTime = useSelector(state => state.org.normalSubTime);\n  const premiumSubTime = useSelector(state => state.org.premiumSubTime);\n  const doesUserHasNormalAccess = useSelector(state => state.org.doesUserHasNormalAccess);\n  const doesUserHasPremiumAccess = useSelector(state => state.org.doesUserHasPremiumAccess);\n  const [userBalance, setUserBalance] = useState('');\n  /*\n    const [normalSubFee, setNormalSubFee ] = useState(0);\n    const [premiumSubFee, setPremiumSubFee ] = useState(0);\n  \n    const [normalSubTime, setNormalSubTime ] = useState(0);\n    const [premiumSubTime, setPremiumSubTime ] = useState(0);\n  \n  */\n\n  const [normalEndTime, setNormalEndTime] = useState(0);\n  const [premiumEndTime, setPremiumEndTime] = useState(0); //const [ doesUserHasNormalAccess, setDoesUserHasNormalAccess ] = useState(false);\n  //const [ doesUserHasPremiumAccess, setDoesUserHasPremiumAccess ] = useState(false);\n\n  const options = useSelector(state => state.org.options); //dispatch(getUserAsync());\n  //const status = useSelector(state => state.node.status) \n  //const depositStatus = useSelector(state => state.node.depositStatus) \n  //const nodeBalance = useSelector(state => state.org.balance)\n  //const owner = useSelector(state => state.org.owner)\n  //const share = useSelector(state => state.org.share)\n\n  const [selectedOption, setSelectedOption] = useState(null);\n  /*\n  const handleChange = (selectedOption) => {\n    setSelectedOption(selectedOption);\n    console.log(selectedOption.value);\n    dispatch(updateOrgStats({_orgId:parseInt(selectedOption.value)}))\n     //this prints the selected option\n  }\n  */\n\n  useEffect(() => {\n    dispatch(getCurrentOrg());\n    dispatch(getTokenBalance()); //dispatch(updateNodeStats({_nodeId:-1}))\n    //dispatch(loadSelectElements())\n\n    async function listenMMAccount() {\n      window.ethereum.on(\"accountsChanged\", async function () {\n        // Time to reload your interface with accounts[0]!\n        const accounts = await web3.eth.getAccounts();\n        dispatch(getCurrentOrg());\n        console.log(\"now owner is\", {\n          owner\n        });\n        dispatch(updateStats({\n          owner: owner\n        }));\n      });\n    }\n\n    listenMMAccount();\n  }, []);\n  const [forgName, setfOrgName] = useState('');\n  const [fpremiumSubFee, setfPremiumSubFee] = useState(300);\n  const [fnormalSubFee, setfNormalSubFee] = useState(100);\n  const [purchaseAmount, setPurchaseAmount] = useState(0);\n\n  const handlefNameChange = e => {\n    setfOrgName(e.target.value);\n  };\n\n  const handleNSubFeeChange = e => {\n    setfNormalSubFee(parseInt(e.target.value));\n  };\n\n  const handlePSubFeeChange = e => {\n    setfPremiumSubFee(parseInt(e.target.value));\n  };\n\n  const handlePurchaseAmount = e => {\n    setPurchaseAmount(e.target.value);\n  };\n\n  let content;\n\n  if (!orgCreated) {\n    //content = <Row className={styles.but_ui}><button onClick= { () => dispatch(registerAsOrganization({ name:\"udemy\" , normalSubFee: 15 , premiumSubFee : 30, user:user}))}>Create Org</button></Row>\n    //content = <Row className={styles.but_ui}><button onClick= { () => dispatch(registerAsOrganization({ name:\"udemy\" , normalSubFee:15 , premiumSubFee:30, user:currentOrg}))}>Create Org</button></Row>\n    content = /*#__PURE__*/_jsxDEV(Container, {\n      children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        style: {\n          display: 'flex',\n          justifyContent: 'center',\n          paddingBottom: 30,\n          paddingLeft: 170\n        },\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          className: styles.attribute,\n          children: \"LRN Balance:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 100\n        }, this), \" \", /*#__PURE__*/_jsxDEV(Col, {\n          className: styles.attr_value,\n          style: {\n            paddingRight: 180\n          },\n          children: userTokenBalance\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 153\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        style: {\n          display: 'flex',\n          justifyContent: 'center'\n        },\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \" 1 LRN Token = 1 wei \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 65\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: styles.but_ui,\n        style: {\n          display: 'flex',\n          paddingBottom: 50\n        },\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: purchaseAmount,\n            onChange: handlePurchaseAmount\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 87\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 82\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => dispatch(purchaseTokens({\n              value: purchaseAmount\n            })),\n            children: \"Purchase Tokens\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 174\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 169\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \" Register an Organization \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        style: {\n          display: 'flex',\n          justifyContent: 'center',\n          padding: 10,\n          paddingLeft: 110\n        },\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Organization Name:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: forgName,\n            onChange: handlefNameChange,\n            style: {\n              marginLeft: 90\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        style: {\n          display: 'flex',\n          justifyContent: 'center',\n          padding: 10,\n          paddingLeft: 90\n        },\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Normal Sub Fee:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: fnormalSubFee,\n            onChange: handleNSubFeeChange,\n            style: {\n              marginLeft: 110\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        style: {\n          display: 'flex',\n          justifyContent: 'center',\n          padding: 10,\n          paddingLeft: 90\n        },\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Premium Sub Fee:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: fpremiumSubFee,\n            onChange: handlePSubFeeChange,\n            style: {\n              marginLeft: 90\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: styles.but_ui,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => dispatch(registerAsOrganization({\n            name: forgName,\n            normalSubFee: fnormalSubFee,\n            premiumSubFee: fpremiumSubFee,\n            user: currentOrg\n          })),\n          children: \"Create Org\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 40\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 9\n    }, this);\n    return content;\n  } else if (orgCreated && !isOwner) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      className: styles.node,\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        style: {\n          display: 'flex',\n          justifyContent: 'center',\n          paddingBottom: 30,\n          paddingLeft: 170\n        },\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          className: styles.attribute,\n          children: \"LRN Balance:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 104\n        }, this), \" \", /*#__PURE__*/_jsxDEV(Col, {\n          className: styles.attr_value,\n          style: {\n            paddingRight: 180\n          },\n          children: userTokenBalance\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 157\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        style: {\n          display: 'flex',\n          justifyContent: 'center'\n        },\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \" 1 LRN Token = 1 wei \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 69\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: styles.but_ui,\n        style: {\n          display: 'flex',\n          paddingBottom: 50\n        },\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: purchaseAmount,\n            onChange: handlePurchaseAmount\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 91\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 86\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => dispatch(purchaseTokens({\n              value: purchaseAmount\n            })),\n            children: \"Purchase Tokens\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 178\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 173\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          className: styles.attribute,\n          children: \"Learn Token Balance:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 16\n        }, this), \" \", /*#__PURE__*/_jsxDEV(Col, {\n          className: styles.attr_value,\n          children: userTokenBalance\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 77\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          className: styles.attribute,\n          children: \"Organization owner:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 16\n        }, this), \" \", /*#__PURE__*/_jsxDEV(Col, {\n          className: styles.attr_small,\n          children: owner\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 76\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          className: styles.attribute,\n          children: \"User :\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 16\n        }, this), \" \", /*#__PURE__*/_jsxDEV(Col, {\n          className: styles.attr_small,\n          children: currentOrg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 63\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          className: styles.attribute,\n          children: \"Organization Name:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 16\n        }, this), \" \", /*#__PURE__*/_jsxDEV(Col, {\n          className: styles.attr_value,\n          children: forgName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 75\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          className: styles.attribute,\n          children: \"Normal Sub Fee:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 16\n        }, this), \" \", /*#__PURE__*/_jsxDEV(Col, {\n          className: styles.attr_value,\n          children: normalSubFee\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 72\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          className: styles.attribute,\n          children: \"Premium Sub Fee:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 16\n        }, this), \" \", /*#__PURE__*/_jsxDEV(Col, {\n          className: styles.attr_value,\n          children: premiumSubFee\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 73\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          className: styles.attribute,\n          children: \"Normal Time Access per Sub:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 16\n        }, this), \" \", /*#__PURE__*/_jsxDEV(Col, {\n          className: styles.attr_value,\n          children: normalSubTime\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 84\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          className: styles.attribute,\n          children: \"Premium Time Access per Sub:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 16\n        }, this), \" \", /*#__PURE__*/_jsxDEV(Col, {\n          className: styles.attr_value,\n          children: premiumSubTime\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 85\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          className: styles.attribute,\n          children: \"my Normal End Time:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 16\n        }, this), \" \", /*#__PURE__*/_jsxDEV(Col, {\n          className: styles.attr_value,\n          children: [normalEndTime, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 76\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          className: styles.attribute,\n          children: \"my Premium End Time:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 16\n        }, this), \" \", /*#__PURE__*/_jsxDEV(Col, {\n          className: styles.attr_value,\n          children: premiumEndTime\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 77\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          className: styles.attribute,\n          children: \"Premium Access ?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 16\n        }, this), \" \", /*#__PURE__*/_jsxDEV(Col, {\n          className: styles.attr_value,\n          children: doesUserHasPremiumAccess\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 73\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          className: styles.attribute,\n          children: \"Normal Access ?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 16\n        }, this), \" \", /*#__PURE__*/_jsxDEV(Col, {\n          className: styles.attr_value,\n          children: doesUserHasNormalAccess\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 72\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 8\n    }, this);\n  } else if (orgCreated && isOwner) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      className: styles.node,\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        style: {\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center',\n          paddingTop: 400\n        },\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \" Org has been created. Switch account to purchase subscriptions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 104\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 10\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 8\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(Container, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 7\n    }, this);\n  }\n}\n\n_s(Org, \"jZoWwxLQlnxBkfGLn5rWOqoZB2U=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector, useSelector];\n});\n\n_c = Org;\n\nvar _c;\n\n$RefreshReg$(_c, \"Org\");","map":{"version":3,"sources":["/home/kesha/Videos/Summer2021-main/REN_UI/src/features/OrgUpdater/Org.js"],"names":["React","useState","useEffect","useSelector","useDispatch","Box","Container","Row","Col","web3","Select","store","getCurrentOrg","registerAsOrganization","getTokenBalance","purchaseTokens","updateStats","styles","Org","dispatch","currentOrg","state","org","owner","orgOwner","isOwner","userTokenBalance","orgCreated","orgName","normalSubFee","premiumSubFee","normalSubTime","premiumSubTime","doesUserHasNormalAccess","doesUserHasPremiumAccess","userBalance","setUserBalance","normalEndTime","setNormalEndTime","premiumEndTime","setPremiumEndTime","options","selectedOption","setSelectedOption","listenMMAccount","window","ethereum","on","accounts","eth","getAccounts","console","log","forgName","setfOrgName","fpremiumSubFee","setfPremiumSubFee","fnormalSubFee","setfNormalSubFee","purchaseAmount","setPurchaseAmount","handlefNameChange","e","target","value","handleNSubFeeChange","parseInt","handlePSubFeeChange","handlePurchaseAmount","content","display","justifyContent","paddingBottom","paddingLeft","attribute","attr_value","paddingRight","but_ui","padding","marginLeft","name","user","node","attr_small","alignItems","paddingTop"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Box, Container, Row, Col } from 'react-bootstrap';\nimport web3 from './../web3'\n\nimport Select from 'react-select';\nimport {store} from '../../app/store'\n\n/*\ngetOrganizationNormalTime,\n  getOrganizationPremiumTime,\n  getOrganizationNormalFee,\n  getOrganizationPremiumFee,\n  getPremiumUserEndSubscriptionTime,\n  getUserEndSubscriptionTime\n  doesUserHasPremiumAccess,\n  doesUserHasNormalAcces\n  getTokenBalance,\n  buyNormalSubscription,\n  buyPremiumSubscription,\n  setOrChangeSubscriptionFee,\n  setOrChangePremiumSubscriptionFee,\n  \n\n*/\n\nimport {\n  getCurrentOrg,\n  registerAsOrganization,\n  getTokenBalance,\n  purchaseTokens,\n  updateStats\n} from './OrgSlice';\nimport styles from './Org.module.css';\n\nexport function Org() {\n  //const fetchStatus = useSelector(state => state.node.status)\n  //const error = useSelector(state => state.node.error)\n  \n\n\n\n\n  const dispatch = useDispatch();\n  //const user = useSelector(state => state.node.user);\n  const currentOrg = useSelector(state => state.org.currentOrg);\n  const owner = useSelector(state => state.org.orgOwner);\n  const isOwner = useSelector(state => state.org.isOwner);\n  //const balance = useSelector(state => state.node.balance);\n\n  //const [currentOrg, setCurrentOrg ] = useState('');\n\n  //const [owner, setOwner ] = useState('');\n\n  const userTokenBalance = useSelector(state => state.org.userTokenBalance); \n\n  const orgCreated = useSelector(state => state.org.orgCreated);\n  \n  const orgName = useSelector(state => state.org.orgName);\n\n  const normalSubFee = useSelector(state => state.org.normalSubFee)\n\n  const premiumSubFee = useSelector(state => state.org.premiumSubFee)\n\n  const normalSubTime = useSelector(state => state.org.normalSubTime)\n\n  const premiumSubTime = useSelector(state => state.org.premiumSubTime)\n\n  const doesUserHasNormalAccess = useSelector(state => state.org.doesUserHasNormalAccess)\n\n  const doesUserHasPremiumAccess = useSelector(state => state.org.doesUserHasPremiumAccess)\n\n  const [userBalance, setUserBalance ] = useState('');\n/*\n  const [normalSubFee, setNormalSubFee ] = useState(0);\n  const [premiumSubFee, setPremiumSubFee ] = useState(0);\n\n  const [normalSubTime, setNormalSubTime ] = useState(0);\n  const [premiumSubTime, setPremiumSubTime ] = useState(0);\n\n*/\n  const [ normalEndTime, setNormalEndTime ] = useState(0);\n  const [ premiumEndTime, setPremiumEndTime ] = useState(0);\n\n  //const [ doesUserHasNormalAccess, setDoesUserHasNormalAccess ] = useState(false);\n  //const [ doesUserHasPremiumAccess, setDoesUserHasPremiumAccess ] = useState(false);\n\n\n\n  const options = useSelector(state => state.org.options);\n  //dispatch(getUserAsync());\n  //const status = useSelector(state => state.node.status) \n  //const depositStatus = useSelector(state => state.node.depositStatus) \n  //const nodeBalance = useSelector(state => state.org.balance)\n  //const owner = useSelector(state => state.org.owner)\n  //const share = useSelector(state => state.org.share)\n\n  const [selectedOption, setSelectedOption] = useState(null);\n  /*\n  const handleChange = (selectedOption) => {\n    setSelectedOption(selectedOption);\n    console.log(selectedOption.value);\n    dispatch(updateOrgStats({_orgId:parseInt(selectedOption.value)}))\n     //this prints the selected option\n  }\n  */\n\n   useEffect(() => {\n\n      dispatch(getCurrentOrg())\n      dispatch(getTokenBalance())\n      //dispatch(updateNodeStats({_nodeId:-1}))\n      //dispatch(loadSelectElements())\n\n      \n      async function listenMMAccount() {\n        window.ethereum.on(\"accountsChanged\", async function() {\n          // Time to reload your interface with accounts[0]!\n         const  accounts = await web3.eth.getAccounts();\n          dispatch(getCurrentOrg())\n          console.log(\"now owner is\",{owner})\n          dispatch(updateStats({owner: owner}))\n        });\n      }\n    listenMMAccount();\n  \n  }, [])\n\n\n\n  const [forgName, setfOrgName] = useState('')\n  const [fpremiumSubFee, setfPremiumSubFee] = useState(300)\n  const [fnormalSubFee, setfNormalSubFee] = useState(100)\n  const [purchaseAmount, setPurchaseAmount] = useState(0)\n  const handlefNameChange = (e) => {\n    setfOrgName(e.target.value);\n  }\n\n  const handleNSubFeeChange = (e) => {\n    setfNormalSubFee(parseInt(e.target.value))\n  }\n\n  const handlePSubFeeChange = (e) => {\n    setfPremiumSubFee(parseInt(e.target.value))\n  }\n\n  const handlePurchaseAmount = (e) => {\n    setPurchaseAmount(e.target.value)\n  }\n\n\n\n  let content\n\n  if(!orgCreated){\n    //content = <Row className={styles.but_ui}><button onClick= { () => dispatch(registerAsOrganization({ name:\"udemy\" , normalSubFee: 15 , premiumSubFee : 30, user:user}))}>Create Org</button></Row>\n    //content = <Row className={styles.but_ui}><button onClick= { () => dispatch(registerAsOrganization({ name:\"udemy\" , normalSubFee:15 , premiumSubFee:30, user:currentOrg}))}>Create Org</button></Row>\n    content = \n        <Container >\n        <br />\n        <br />\n        <br />\n        <br />\n\n      <Row style={{display: 'flex',  justifyContent:'center', paddingBottom: 30, paddingLeft:170}}><Col className={styles.attribute}>LRN Balance:</Col> <Col className={styles.attr_value} style={{ paddingRight:180 }}>{userTokenBalance}</Col></Row>\n      \n\n      <Row style={{display: 'flex',  justifyContent:'center'}}> <p> 1 LRN Token = 1 wei </p></Row>\n      <Row className={styles.but_ui} style={{display: 'flex', paddingBottom:50}}><Col><input type=\"text\" value={purchaseAmount} onChange={ handlePurchaseAmount}/></Col><Col><button onClick= { () => dispatch( purchaseTokens({value: purchaseAmount}) ) }>Purchase Tokens</button></Col></Row>\n\n\n        <h4> Register an Organization </h4>\n        \n        <Row style={{display: 'flex',  justifyContent:'center', padding: 10, paddingLeft:110}}>\n        <label>\n          Organization Name:\n          <input type=\"text\" value={forgName} onChange={ handlefNameChange} style={{ marginLeft:90}}/>\n        </label>\n        </Row>\n        <Row style={{display: 'flex',  justifyContent:'center', padding: 10, paddingLeft:90}}> \n        <label>\n          Normal Sub Fee:\n          <input type=\"text\" value={fnormalSubFee} onChange={ handleNSubFeeChange} style={{ marginLeft:110}} />\n        </label>\n        </Row>\n        <Row style={{display: 'flex',  justifyContent:'center', padding: 10, paddingLeft:90}}>\n        <label>\n          Premium Sub Fee:\n          <input type=\"text\" value={fpremiumSubFee} onChange={ handlePSubFeeChange} style={{ marginLeft:90}}/>\n        </label>\n        </Row>\n        <Row className={styles.but_ui}><button onClick= { () => dispatch(registerAsOrganization({ name: forgName , normalSubFee: fnormalSubFee , premiumSubFee: fpremiumSubFee, user:currentOrg}))}>Create Org</button></Row>\n        \n    </Container>\n\n    return(\n     content\n    )\n\n  }\n\n\n\n\n  else if (orgCreated && !isOwner){\n\n    return (\n       <Container className={styles.node}>\n\n          \n\n          <Row style={{display: 'flex',  justifyContent:'center', paddingBottom: 30, paddingLeft:170}}><Col className={styles.attribute}>LRN Balance:</Col> <Col className={styles.attr_value} style={{ paddingRight:180 }}>{userTokenBalance}</Col></Row>\n      \n          \n          <Row style={{display: 'flex',  justifyContent:'center'}}> <p> 1 LRN Token = 1 wei </p></Row>\n          <Row className={styles.but_ui} style={{display: 'flex', paddingBottom:50}}><Col><input type=\"text\" value={purchaseAmount} onChange={ handlePurchaseAmount}/></Col><Col><button onClick= { () => dispatch( purchaseTokens({value: purchaseAmount}) ) }>Purchase Tokens</button></Col></Row>\n\n\n          <Row><Col className={styles.attribute}>Learn Token Balance:</Col> <Col className={styles.attr_value}>{userTokenBalance}</Col></Row>\n          <Row><Col className={styles.attribute}>Organization owner:</Col> <Col className={styles.attr_small}>{owner}</Col></Row>\n          <Row><Col className={styles.attribute}>User :</Col> <Col className={styles.attr_small}>{currentOrg}</Col></Row>\n          <Row><Col className={styles.attribute}>Organization Name:</Col> <Col className={styles.attr_value}>{forgName}</Col></Row>\n          <Row><Col className={styles.attribute}>Normal Sub Fee:</Col> <Col className={styles.attr_value}>{normalSubFee}</Col></Row>\n          <Row><Col className={styles.attribute}>Premium Sub Fee:</Col> <Col className={styles.attr_value}>{premiumSubFee}</Col></Row>\n          <Row><Col className={styles.attribute}>Normal Time Access per Sub:</Col> <Col className={styles.attr_value}>{normalSubTime}</Col></Row>\n          <Row><Col className={styles.attribute}>Premium Time Access per Sub:</Col> <Col className={styles.attr_value}>{premiumSubTime}</Col></Row>\n\n          <Row><Col className={styles.attribute}>my Normal End Time:</Col> <Col className={styles.attr_value}>{normalEndTime} </Col></Row>\n          <Row><Col className={styles.attribute}>my Premium End Time:</Col> <Col className={styles.attr_value}>{premiumEndTime}</Col></Row>\n          <Row><Col className={styles.attribute}>Premium Access ?</Col> <Col className={styles.attr_value}>{doesUserHasPremiumAccess}</Col></Row>\n          <Row><Col className={styles.attribute}>Normal Access ?</Col> <Col className={styles.attr_value}>{doesUserHasNormalAccess}</Col></Row>\n          \n      </Container>\n\n    )\n  }\n\n  \n  else if(orgCreated && isOwner){\n     return(\n       <Container className={styles.node}>\n         <Row style={{display: 'flex',  justifyContent:'center',alignItems: 'center', paddingTop:400}}><p> Org has been created. Switch account to purchase subscriptions</p></Row>\n       </Container>\n     )\n  }\n\n  else{\n\n    return(\n      <Container>\n      </Container>\n    )\n  }\n\n\n}\n"]},"metadata":{},"sourceType":"module"}